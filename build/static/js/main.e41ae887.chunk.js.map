{"version":3,"sources":["images/logo.png","images/banner.jpg","images/checkout_ad.jpg","images/login.jpg","StateProvider.js","firebase.js","Header.js","Product.js","Home.js","CheckOutProduct.js","reducer.js","Subtotal.js","Checkout.js","Login.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","StateContext","createContext","StatProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","auth","firebase","initializeApp","apiKey","authDomain","DatabaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","Header","basket","user","className","to","src","logo","alt","placeholder","onClick","signOut","email","length","Product","id","image","price","rating","title","dispatchEvent","Array","fill","map","_","style","color","type","item","Home","banner","CheckOutProduct","getBasketTotal","reduce","amount","state","action","newBasket","index","findIndex","basketItem","splice","console","warn","Subtotal","renderText","decimalScale","displayType","thousandSeparator","prefix","Checkout","checkout_ad","marginLeft","Login","history","useHistory","useState","setEmail","password","setpassword","login","onChange","e","target","preventDefault","signInWithEmailAndPassword","then","push","catch","alert","messeage","createUserWithEmailAndPassword","App","useEffect","unsubscribe","onAuthStateChanged","authUser","log","exact","path","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.e41ae887.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.27fc9d1d.png\";","module.exports = __webpack_public_path__ + \"static/media/banner.6aafad0c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/checkout_ad.2267aac7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/login.3e782c45.jpg\";","// set data layer\r\n\r\nimport React, { createContext, useContext, useReducer } from \"react\";\r\n\r\n\r\n// data layer\r\nexport const StateContext = createContext();\r\n\r\n// BUILD A PROVIDER \r\nexport const StatProvider = ({ reducer, initialState, children}) => (\r\n    <StateContext.Provider value={useReducer(reducer,initialState)}>\r\n        {children}\r\n    </StateContext.Provider>   \r\n);\r\n\r\n// This is how we use it inside of a component\r\nexport const useStateValue = () => useContext(StateContext);\r\n     \r\n","import firebase from 'firebase'\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n  apiKey: \"AIzaSyAiKzO5HG_cv3NwETrjq2tX9RasBkh1_7M\",\r\n  authDomain: \"clone-a2b66.firebaseapp.com\",\r\n  DatabaseURL: \"https://clone-a2b66.firebaseio.com\",\r\n  projectId: \"clone-a2b66\",\r\n  storageBucket: \"clone -a2b66.appspot.com \",\r\n  messagingSenderId: \" 1064481012420 \",\r\n  appId: \" 1: 1064481012420: web: 269aec72953bc96bc06791 \",\r\n  measurementId: \" G-GF3QCCEXFM \",\r\n});\r\n\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\n\r\nexport{ db, auth };","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\r\n\r\nimport \"./css/header.css\";\r\nimport logo from \"./images/logo.png\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { auth } from \"./firebase\";\r\n\r\nfunction Header() {\r\n\r\n  const [{ basket, user}] = useStateValue();\r\n\r\n  const login = () => {\r\n    if(user) {\r\n      auth.signOut();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      {/* logo am√¥zn */}\r\n      <Link to=\"/\">\r\n        <img className=\"header__logo\" src={logo} alt=\"logo\" />\r\n      </Link>\r\n      {/* search box */}\r\n      <div className=\"header__search\">\r\n        <input className=\"header__searchInput\" placeholder=\"Search...\" />\r\n        <SearchIcon className=\"header__searchIcon\" />\r\n      </div>\r\n      <div className=\"header__nav\">\r\n        {/* link 1  */}\r\n        \r\n        {/* link 2  */}\r\n        <Link to ={!user && \"/login\"} className=\"header__link\">\r\n          <div onClick={login} className=\"header__Option\">\r\n            <span className=\"header__OptionRowOne\">Hello {user?.email}</span>\r\n            <span className=\"header__OptionRowTwo\">{user ? 'Sign Out' : 'Sign in'}</span>\r\n          </div>\r\n        </Link>\r\n        {/* link 3  */}\r\n        <Link className=\"header__link\">\r\n          <div className=\"header__Option\">\r\n            <span className=\"header__OptionRowOne\">Return</span>\r\n            <span className=\"header__OptionRowTwo\">& Order</span>\r\n          </div>\r\n        </Link>\r\n        {/* link 4  */}\r\n        <Link to='/checkout' className=\"header__link\">\r\n          <div className=\"header__OptionBasket\">\r\n            <ShoppingBasketIcon />\r\n            <span className=\"header__OptionBasketRowTwo\">{basket?.length}</span>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport \"./css/product.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\nfunction Product({ id, image, price, rating, title }) {\r\n\r\n  const [ { basket }, dispatchEvent ] = useStateValue();\r\n\r\n  const addToBasket = () => {\r\n    dispatchEvent ({\r\n      type: 'ADD_TO_BASKET',\r\n      item : {\r\n        id : id,\r\n        title : title,\r\n        image :image,\r\n        price : price ,\r\n        rating : rating\r\n      }\r\n    })\r\n  };\r\n\r\n  return (\r\n    <div className=\"product\">\r\n      <div className=\"product__infor\">\r\n        <p>{title}</p>\r\n        <p className=\"product__price\">\r\n          <strong>{price}</strong>\r\n          <small> $</small>\r\n        </p>\r\n        <div className=\"product__rating\">\r\n          {Array(rating)\r\n            .fill()\r\n            .map((_) => (\r\n              <i className=\"fa fa-star\" style={{ color: \"#fb0\" }}></i>\r\n            ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"product__image\">\r\n        <img src={image} alt=\"product_image\" />\r\n        <button onClick={addToBasket}>Add to cart</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","import React from \"react\";\r\nimport banner from \"./images/banner.jpg\";\r\nimport \"./css/home.css\";\r\n\r\nimport Product from \"./Product\";\r\n\r\nfunction Home() {\r\n  return (\r\n    <div className=\"home\">\r\n      <img className=\"image__banner\" src={banner} alt=\"banner\" />\r\n\r\n      {/* row two products  */}\r\n      <div className=\"home__row\">\r\n        <Product\r\n          id=\"1\"\r\n          title=\"Simple Mobile Prepaid - Apple iPhone X (64GB) - Silver [Locked to Carrier ‚Äì Simple Mobile] \"\r\n          image=\"https://cdn1.viettelstore.vn/images/Product/ProductImage/medium/193246051.jpeg\"\r\n          price={100}\r\n          rating={5}\r\n        />\r\n        <Product\r\n          id=\"2\"\r\n          title=\"Apple iPhone 11 Pro Max (64GB, Midnight Green) Carrier Subscription [Cricket Wireless]\"\r\n          image=\"https://i.ibb.co/gj42BWm/ip11pro-Copy.jpg\"\r\n          price={200.19}\r\n          rating={5}\r\n        />\r\n      </div>\r\n      {/* row thress products */}\r\n      <div className=\"home__row\">\r\n        <Product\r\n          id=\"3\"\r\n          title=\"Samsung Galaxy A71 SM-A715F/DS 4G LTE 128GB + 6GB Ram Octa Core w/Four Cameras (A64+12+5+5mp)\"\r\n          image=\"https://i.ibb.co/tzX8F7b/a17.jpg\"\r\n          price={100.99}\r\n          rating={4}\r\n        />\r\n        <Product\r\n          id=\"4\"\r\n          title=\"Samsung Galaxy S20 5G Factory Unlocked New Android Cell Phone US Version | 128GB of Storage \"\r\n          image=\"https://i.ibb.co/RQv6rHg/s20.jpg\"\r\n          price={400.99}\r\n          rating={5}\r\n        />\r\n        <Product\r\n          id=\"5\"\r\n          title=\"Original Oppo Reno 2 128GB Mobile Phone Snapdragon 730G Octa Core NFC 48MP Camera VOOC 3.0\"\r\n          image=\"https://i.ibb.co/KVNqPNw/oren2-Copy.jpg\"\r\n          price={100.94}\r\n          rating={3}\r\n        />\r\n      </div>\r\n      {/* row one product */}\r\n      <div className=\"home__row\">\r\n        <Product\r\n          id=\"1\"\r\n          title=\"Vsmart Joy 3 (4GB|64GB) (CTY)\"\r\n          image=\"https://i.ibb.co/NLrnbbG/j2-Copy.jpg\"\r\n          price={200.15}\r\n          rating={4}\r\n        />\r\n        \r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport './css/checkout.css'\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\nfunction CheckOutProduct({id,price,image,rating,title}) {\r\n\r\n  const [ { basket }, dispatchEvent ] = useStateValue();\r\n\r\n  const removeFromBasket = () => {\r\n    dispatchEvent({\r\n      type : 'REMOVE_FROM_BASKET',\r\n      id : id\r\n    })\r\n  };\r\n\r\n  return (\r\n    <div className=\"checkOutProduct\">\r\n        <div className=\"product__image\">\r\n            <img src={ image} alt=\"product_image\" />\r\n            <button onClick={removeFromBasket}>Remove from basket</button>\r\n        </div>\r\n      <div className=\"product__infor\">\r\n        <p>{ title}</p>\r\n        <p className=\"product__price\">\r\n          <strong>{ price}</strong>\r\n          <small> $</small>\r\n        </p>\r\n        <div className=\"product__rating\">\r\n          {Array(rating)\r\n            .fill()\r\n            .map((_) => (\r\n              <i className=\"fa fa-star\" style={{ color: \"#fb0\" }}></i>\r\n            ))}\r\n        </div>\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CheckOutProduct;\r\n","export const initialState = {\r\n    basket : [\r\n        \r\n    ],\r\n    user : null\r\n};\r\n\r\nexport const getBasketTotal = (basket) => \r\n    basket?.reduce((amount, item) => \r\n        item.price + amount\r\n    , 0)\r\n\r\nconst reducer = (state,action) => {\r\n    switch (action.type) {\r\n\r\n        case 'SET_USER':\r\n            return {\r\n                ...state,\r\n                user :action.user\r\n            }\r\n\r\n        case 'ADD_TO_BASKET':\r\n            //add item to cart\r\n            return { ...state,\r\n                basket : [...state.basket, action.item]\r\n            }\r\n        case 'REMOVE_FROM_BASKET':\r\n            //remove item from basket\r\n            let newBasket = [...state.basket];\r\n            const index = state.basket.findIndex((basketItem) => basketItem.id === action.id);\r\n            if( index >= 0 ){\r\n                newBasket.splice(index,1);\r\n            }else{\r\n                console.warn(\r\n                    \"Can't remove product\"\r\n                )\r\n            }\r\n            return { ...state, basket:newBasket, };\r\n        default :\r\n            return state;\r\n    }\r\n} \r\n\r\nexport default reducer;","import React from \"react\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport \"./css/subtotal.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { getBasketTotal } from \"./reducer\";\r\n\r\nfunction Subtotal() {\r\n  const [{ basket }] = useStateValue();\r\n  return (\r\n    <div className=\"subtotal\">\r\n\r\n      <CurrencyFormat\r\n        renderText={(value) => (\r\n          <div className=\"subtotal__title\">\r\n            <h2>Subtotal</h2>\r\n            <p>\r\n              Subtotal ({basket?.length} items) :\r\n              <strong> {value}</strong>\r\n            </p>\r\n            <div className=\"subtotal__gift\">\r\n                <input type='checkbox'/>\r\n                <label>This order contain a gift</label>\r\n            </div>\r\n            <button>Processd to Checkout</button>\r\n          </div>\r\n        )}\r\n        decimalScale={2}\r\n        value={getBasketTotal(basket)}\r\n        displayType={\"text\"}\r\n        thousandSeparator={true}\r\n        prefix={\"$\"}\r\n      />\r\n    </div>\r\n  );\r\n}\r\nexport default Subtotal;\r\n","import React from \"react\";\r\nimport CheckOutProduct from \"./CheckOutProduct\";\r\nimport \"./css/checkout.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport Subtotal from \"./Subtotal\";\r\nimport checkout_ad from \"./images/checkout_ad.jpg\";\r\n\r\nfunction Checkout() {\r\n  const [{ basket }] = useStateValue();\r\n  return (\r\n    <div className=\"checkout\">\r\n      <div className=\"checkout__left\">\r\n        <img className=\"checkout_ad\" src={checkout_ad} alt=\"ads\" />\r\n        <div className=\"checkout_subtotal\">\r\n          <Subtotal />\r\n        </div>\r\n      </div>\r\n      <div className=\"checkout__right\">\r\n        {basket?.length === 0 ? (\r\n          <div>\r\n            <h2 style={{marginLeft:\"20px\"}} >Your basket is empty</h2>\r\n            <p>\r\n              You do not have any items in your basket. Please return and click\r\n              button \"Add to basket\" to buy somethings. Thank you.\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <h2 style={{marginLeft:\"20px\"}}>Your Shopping Basket</h2>\r\n            {basket?.map((item, index) => (\r\n              <CheckOutProduct\r\n                index={index}\r\n                id={item.id}\r\n                title={item.title}\r\n                image={item.image}\r\n                price={item.price}\r\n                rating={item.rating}\r\n              />\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Checkout;\r\n","import React, { useState } from 'react';\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport './css/login.css';\r\nimport { auth } from './firebase';\r\nimport login from './images/login.jpg'\r\n\r\nfunction Login() {\r\n\r\n    const history = useHistory();\r\n    const [ email, setEmail ] = useState();\r\n    const [ password, setpassword ] = useState();\r\n\r\n    const loginPage = (e) => {\r\n        e.preventDefault();\r\n\r\n        auth.signInWithEmailAndPassword(email,password).\r\n        then((auth) => {\r\n            // logged in, redirect to homepage\r\n            history.push('/')\r\n        }).catch((e) => alert(e.messeage))\r\n    }\r\n\r\n    const register = (e) => {\r\n        e.preventDefault();\r\n\r\n        auth.createUserWithEmailAndPassword(email,password).\r\n        then((auth) => {\r\n            history.push('/')\r\n            // created account, redirect to homepage\r\n        }).catch((e) => alert(e.messeage))\r\n    }\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <img \r\n                src={login}\r\n                alt=\"login\"\r\n                className=\"image__login\"\r\n            />\r\n            <div className=\"login__form\">\r\n                <form>\r\n                    <div className=\"form_group\">\r\n                        <label>Email: </label><br/>\r\n                        <input \r\n                        onChange={e => setEmail(e.target.value)}\r\n                        value={email} \r\n                        type=\"email\" \r\n                        placeholder=\"Enter your email\" \r\n                        />\r\n                    </div>\r\n                    <div className=\"form_group\">\r\n                        <label>Password: </label><br/>\r\n                        <input \r\n                        onChange={e => setpassword(e.target.value)}\r\n                        value = {password}\r\n                        type=\"password\"\r\n                        placeholder=\"Enter your password\" \r\n                        />\r\n                    </div>\r\n                    <div className=\"form_group_checkbox\">\r\n                        <input type=\"checkbox\" />\r\n                        <label>Remember your password</label><br/>\r\n                    </div>\r\n                    <button  \r\n                        className=\"login__btn\"\r\n                        onClick={loginPage}\r\n                    >\r\n                    Sign in\r\n                    </button>\r\n                    <button  \r\n                        className=\"login__register\"\r\n                        onClick={register}\r\n                    >\r\n                    Create account\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React, { useEffect} from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport Home from './Home';\nimport Checkout from \"./Checkout\";\nimport Login from \"./Login\";\nimport { useStateValue } from \"./StateProvider\";\nimport {  auth } from './firebase';\n\nfunction App() {\n\n  const [ { user }, dispatchEvent ] = useStateValue();\n  \n  // useEffect <<<< POWERFUL\n  // Piece of code with runs based on a given conditon\n\n  useEffect(() => {\n\n    const unsubscribe = auth.onAuthStateChanged((authUser) => {\n      if(authUser){\n        // login\n        dispatchEvent({\n          type : 'SET_USER',\n          user : authUser\n        })\n      }else{\n        // logout\n        dispatchEvent({\n          type : 'SET_USER',\n          user : null\n        })\n      }\n    });\n\n    return () => {\n      // any clean up\n      unsubscribe();\n    };\n  }, []);\n  console.log(user);\n\n  return (\n    <Router>\n      <div className=\"app\">\n        <Switch>\n          {/* login */}\n          <Route exact=\"true\" path=\"/login\">\n            <Header />\n            <Login />\n          </Route>\n          <Route path=\"/checkout\">\n            <Header />\n            <Checkout />\n          </Route>\n          {/* Home */}\n          <Route path=\"/\">\n            <Header />\n            <Home />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { StatProvider } from './StateProvider';\nimport reducer,{ initialState } from './reducer';\n\nReactDOM.render(\n  <React.StrictMode>\n    <StatProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StatProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}